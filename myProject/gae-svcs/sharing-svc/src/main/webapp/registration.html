<html>
<head>
    <title>Registration</title>
    <script type="text/javascript" src="http://www.google.com/jsapi"></script>
    <script type="text/javascript">
        google.load("prototype", "1.6.1.0");
    </script>
    <script type="text/javascript">
        function clearMessages() {
            $("container_response").innerHTML = "";
            $("container_messages").innerHTML = "";
        }

        function populateMessages(response) {
            $("container_response").innerHTML = response.status;
            $("container_messages").innerHTML = response.responseText;
        }

        function register() {
            clearMessages();

            new Ajax.Request("/registration", {
                method: "post",
                parameters: {
                    api_key: $("i_apikey").value,
                    registry_domain: $("i_domain").value
                },
                onSuccess: populateMessages,
                onFailure: populateMessages,
                onException: populateMessages
            });
        }
    </script>
</head>
<body>
<h3>Registration</h3>
Domain URL: <input type="text" id="i_domain"/> (e.g. https://www.example.org)<br/>
API KEY: <input type="text" id="i_apikey"/> (generated at https://www.example.org/addama/admin/apikeys.html)<br/>
<button onclick="register();">Register</button>
<div id="container_response"></div>
<div id="container_messages"></div>
<img src="http://code.google.com/appengine/images/appengine-silver-120x30.gif" alt="Powered by Google App Engine"/>
</body>
</html>