<html>
    <head>
        <title>Selected File Control</title>
        <link rel="stylesheet" type="text/css" href="/addama/ui/ext-js-3.2.1/resources/css/ext-all.css">        
        <script type="text/javascript" src="/addama/ui/ext-js-3.2.1/adapter/ext/ext-base.js"></script>
        <script type="text/javascript" src="/addama/ui/ext-js-3.2.1/ext-all.js"></script>
        <script type="text/javascript" src="/addama/ui/console_handling.js"></script>
        <script type="text/javascript" src="/addama/ui/workspaces/selectFileControl.js"></script>

        <script type="text/javascript">
            var selectFileControl;

            function loadControl() {
                console.log("loadControl");

                selectFileControl = new SelectFileControl();
                selectFileControl.setWorkspace("edgelimma");
                selectFileControl.onSelectFile(function(fileUri) {
                    console.log("selectFile(" + fileUri + ")");
                    Ext.get("selected_file").dom.innerHTML = fileUri;
                });
            }

            function activateControl() {
                console.log("activateControl");

                selectFileControl.activate();
            }

            Ext.onReady(loadControl);
        </script>
    </head>
    <body>
        <button onclick="activateControl();">Select File</button>
        <h3>Selected File</h3>
        <div id="selected_file">No File Selected</div>
    </body>
</html>
