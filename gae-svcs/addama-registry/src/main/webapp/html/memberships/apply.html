<html>
<head>
    <link rel="stylesheet" type="text/css" href="https://informatics-apps.systemsbiology.net/ext-js-3.3.1/resources/css/ext-all.css">
    <link rel="stylesheet" type="text/css" href="https://informatics-apps.systemsbiology.net/ext-js-3.3.1/examples/shared/examples.css"/>
    <script type="text/javascript" src="https://informatics-apps.systemsbiology.net/ext-js-3.3.1/adapter/ext/ext-base.js"></script>
    <script type="text/javascript" src="https://informatics-apps.systemsbiology.net/ext-js-3.3.1/ext-all.js"></script>

    <script type="text/javascript" src="/addama/ui/console_handling.js"></script>
    <script type="text/javascript" src="/addama/ui/query_parameters.js"></script>
    <script type="text/javascript" src="/addama/ui/topbar.js"></script>

    <script type="text/javascript">
        var targetUrl = "/addama/memberships/domain/applicants";

        Ext.onReady(function() {
            new org.systemsbiology.addama.js.TopBar({ contentEl: "container_topbar" });

            var moderatedUri = get_parameter("uri");
            if (moderatedUri) {
                targeturl = "/addama/memberships/uris/" + moderatedUri + "/applicants";
            }
        });

        function applyForMembership() {
            Ext.Ajax.request({
                url: targetUrl,
                method: "POST",
                success: function(o) {
                    Ext.get("container_apply").hide();
                    Ext.get("container_success").show();
                }
            });
        }
    </script>
</head>
<body>
<div id="container_topbar"></div>
<div id="container_apply">
    <span id="span_message">Access to this domain is limited to authorized members</span>
    <br/>
    <button onclick="applyForMembership()">Apply for Membership</button>
</div>
<div id="container_success" style="display:none;">
    <span>Application received. Expect notification by email</span>
</div>
</body>
</html>
